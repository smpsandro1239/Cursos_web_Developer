<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula 11 - Angular: Servi√ßos e Inje√ß√£o de Depend√™ncia</title>
    <meta name="description" content="Aprenda a criar e injetar servi√ßos para partilhar l√≥gica e dados em Angular.">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/module.css">
    <link rel="stylesheet" href="../css/lesson.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Fira+Code:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="icon" href="../images/favicon.ico" type="image/x-icon">
</head>
<body>
    <header class="module-header">
        <div class="container">
            <div class="module-navigation">
                <a href="aula-10-projeto-final.html" class="nav-back">
                    <span class="nav-icon">‚Üê</span>
                    Voltar √† Aula 10
                </a>
            </div>
            <div class="module-header-content">
                <div class="module-info">
                    <span class="module-number">M√ìDULO 11</span>
                    <h1 class="module-title">Angular: Servi√ßos e Inje√ß√£o de Depend√™ncia</h1>
                    <p class="module-subtitle">Organize o seu c√≥digo de forma eficiente e reutiliz√°vel.</p>
                </div>
            </div>
        </div>
    </header>

    <main class="lesson-container">
        <div class="container">
            <!-- Sec√ß√£o: O que vai ser capaz -->
            <section id="objetivos" class="lesson-section">
                <h2 class="section-title">O que vai ser capaz de fazer?</h2>
                <div class="content-box">
                    <p>No final desta aula, voc√™ ser√° capaz de:</p>
                    <ul>
                        <li>üéØ Criar um servi√ßo em Angular para encapsular a l√≥gica de neg√≥cio.</li>
                        <li>üéØ Entender o conceito de Inje√ß√£o de Depend√™ncia (DI).</li>
                        <li>üéØ Injetar e utilizar um servi√ßo dentro de um componente.</li>
                    </ul>
                </div>
            </section>

            <!-- Sec√ß√£o: Teoria com analogia -->
            <section id="teoria" class="lesson-section">
                <h2 class="section-title">Teoria (com analogia)</h2>
                <div class="content-box">
                    <h3>Componentes n√£o devem fazer tudo sozinhos</h3>
                    <p>Em Angular, os componentes s√£o respons√°veis por controlar a view (o HTML). Tarefas como buscar dados de um servidor, l√≥gica de neg√≥cio complexa ou partilhar dados entre componentes n√£o devem estar diretamente no componente. Para isso, usamos Servi√ßos. A Inje√ß√£o de Depend√™ncia √© o mecanismo que o Angular usa para "entregar" (injetar) uma inst√¢ncia de um servi√ßo a um componente que precise dele.</p>
                    <div class="analogy-box">
                        <span class="analogy-icon">üí°</span>
                        <div class="analogy-content">
                            <h4>Analogia</h4>
                            <p>Imagine que o seu <strong>componente</strong> √© um chef de cozinha a preparar um prato. O chef n√£o deve ir √† quinta buscar os ingredientes. Em vez disso, ele depende de um <strong>servi√ßo</strong> de entregas. O chef simplesmente diz: "Preciso de tomates". O sistema de <strong>Inje√ß√£o de Depend√™ncia</strong> √© como o gerente do restaurante que garante que o servi√ßo de entregas entrega os tomates frescos ao chef no momento certo, sem que o chef precise de saber de onde vieram.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sec√ß√£o: Pr√°tica Guiada -->
            <section id="pratica" class="lesson-section">
                <h2 class="section-title">Pr√°tica (Passo a Passo)</h2>
                <div class="content-box">
                    <p>Vamos criar um servi√ßo que fornece uma lista de utilizadores a um componente.</p>
                    <div class="step-by-step">
                        <div class="step">
                            <h4>Passo 1: Criar o Servi√ßo</h4>
                            <p>Usamos o Angular CLI para gerar o servi√ßo. Este comando cria o ficheiro `user.service.ts`.</p>
                            <pre><code>ng generate service user</code></pre>
                            <p>Dentro do servi√ßo, adicionamos um m√©todo para obter os utilizadores.</p>
                            <pre><code>// src/app/user.service.ts
import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root'
})
export class UserService {
  getUsers() {
    return [
      { id: 1, name: 'Ana' },
      { id: 2, name: 'Bruno' },
      { id: 3, name: 'Carla' }
    ];
  }
}</code></pre>
                        </div>
                        <div class="step">
                            <h4>Passo 2: Injetar o Servi√ßo no Componente</h4>
                            <p>No nosso componente (ex: `app.component.ts`), pedimos ao Angular para injetar o `UserService` atrav√©s do construtor.</p>
                            <pre><code>// src/app/app.component.ts
import { Component, OnInit } from '@angular/core';
import { UserService } from './user.service';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html'
})
export class AppComponent implements OnInit {
  users: any[];

  constructor(private userService: UserService) {}

  ngOnInit() {
    this.users = this.userService.getUsers();
  }
}</code></pre>
                        </div>
                        <div class="step">
                            <h4>Passo 3: Exibir os Dados no Template</h4>
                            <p>Agora, no `app.component.html`, podemos usar a lista de utilizadores.</p>
                            <pre><code>&lt;h1&gt;Lista de Utilizadores&lt;/h1&gt;
&lt;ul&gt;
  &lt;li *ngFor="let user of users"&gt;{{ user.name }}&lt;/li&gt;
&lt;/ul&gt;</code></pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sec√ß√£o: Quiz de M√∫ltipla Escolha -->
            <section id="quiz" class="lesson-section">
                <h2 class="section-title">Teste o seu conhecimento</h2>
                <div class="content-box">
                    <div id="quiz-container">
                        <div class="question">
                            <p class="question-text"><strong>1.</strong> Como um componente em Angular recebe uma inst√¢ncia de um servi√ßo?</p>
                            <div class="options">
                                <button class="option" data-correct="false">Criando uma nova inst√¢ncia com `new UserService()`.</button>
                                <button class="option" data-correct="true">Declarando-o como uma depend√™ncia no seu construtor.</button>
                                <button class="option" data-correct="false">Atrav√©s de um `@Input()`.</button>
                                <button class="option" data-correct="false">Importando-o diretamente no template HTML.</button>
                            </div>
                            <div class="explanation" style="display: none;">
                                <p><strong>Explica√ß√£o:</strong> A resposta correta √© a B. O sistema de Inje√ß√£o de Depend√™ncia do Angular analisa o construtor do componente e fornece as inst√¢ncias de servi√ßo necess√°rias.</p>
                                <div class="analogy-box">
                                    <span class="analogy-icon">üí°</span>
                                    <p><strong>Analogia:</strong> O chef (componente) n√£o cria o servi√ßo de entregas. Ele apenas declara no seu "contrato" (o construtor) que precisa de um, e o gerente (Angular DI) trata de o fornecer.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sec√ß√£o: Resumo -->
            <section id="resumo" class="lesson-section">
                <h2 class="section-title">Resumo do que aprendeu</h2>
                <div class="content-box">
                    <p>Nesta aula, cobrimos os seguintes pontos-chave:</p>
                    <ul>
                        <li>‚úÖ Servi√ßos s√£o classes em Angular usadas para encapsular l√≥gica e dados reutiliz√°veis.</li>
                        <li>‚úÖ A Inje√ß√£o de Depend√™ncia (DI) √© um padr√£o de design onde as depend√™ncias de uma classe s√£o fornecidas externamente.</li>
                        <li>‚úÖ Em Angular, injetamos servi√ßos nos componentes atrav√©s dos seus construtores, permitindo uma boa separa√ß√£o de responsabilidades.</li>
                    </ul>
                    <p>Usar servi√ßos √© fundamental para construir aplica√ß√µes Angular escal√°veis e bem estruturadas.</p>
                </div>
            </section>
        </div>
    </main>

    <footer class="module-footer">
        <div class="container">
            <div class="footer-content">
                <div class="module-nav">
                    <a href="aula-10-projeto-final.html" class="btn btn-secondary">‚Üê Aula Anterior</a>
                    <a href="#" class="btn btn-primary">Pr√≥xima Aula ‚Üí</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="../js/lesson.js"></script>
</body>
</html>
