<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula 11 - JavaScript Ass√≠ncrono: Promises e Async/Await</title>
    <meta name="description" content="Aprenda a lidar com opera√ß√µes ass√≠ncronas em JavaScript de forma moderna.">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/module.css">
    <link rel="stylesheet" href="../css/lesson.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Fira+Code:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="icon" href="../images/favicon.ico" type="image/x-icon">
</head>
<body>
    <header class="module-header">
        <div class="container">
            <div class="module-navigation">
                <a href="aula-10-projeto-final.html" class="nav-back">
                    <span class="nav-icon">‚Üê</span>
                    Voltar √† Aula 10
                </a>
            </div>
            <div class="module-header-content">
                <div class="module-info">
                    <span class="module-number">M√ìDULO 11</span>
                    <h1 class="module-title">JavaScript Ass√≠ncrono: Promises e Async/Await</h1>
                    <p class="module-subtitle">N√£o espere mais! Domine o fluxo de opera√ß√µes ass√≠ncronas.</p>
                </div>
            </div>
        </div>
    </header>

    <main class="lesson-container">
        <div class="container">
            <!-- Sec√ß√£o: O que vai ser capaz -->
            <section id="objetivos" class="lesson-section">
                <h2 class="section-title">O que vai ser capaz de fazer?</h2>
                <div class="content-box">
                    <p>No final desta aula, voc√™ ser√° capaz de:</p>
                    <ul>
                        <li>üéØ Entender o que √© c√≥digo ass√≠ncrono e por que ele √© importante em JavaScript.</li>
                        <li>üéØ Utilizar Promises para gerir opera√ß√µes que levam tempo a ser conclu√≠das.</li>
                        <li>üéØ Escrever c√≥digo ass√≠ncrono limpo e leg√≠vel com a sintaxe `async/await`.</li>
                    </ul>
                </div>
            </section>

            <!-- Sec√ß√£o: Teoria com analogia -->
            <section id="teoria" class="lesson-section">
                <h2 class="section-title">Teoria (com analogia)</h2>
                <div class="content-box">
                    <h3>O Problema da Espera</h3>
                    <p>JavaScript, por natureza, √© "single-threaded", o que significa que s√≥ consegue fazer uma coisa de cada vez. Se pedirmos algo que demora (como buscar dados de um servidor), todo o site ficaria bloqueado √† espera da resposta. O c√≥digo ass√≠ncrono resolve isso, permitindo que o JavaScript continue a executar outras tarefas enquanto espera.</p>
                    <div class="analogy-box">
                        <span class="analogy-icon">üí°</span>
                        <div class="analogy-content">
                            <h4>Analogia</h4>
                            <p>Imagine que est√° num restaurante. O m√©todo s√≠ncrono (bloqueante) seria como o empregado de mesa ficar parado ao seu lado, sem fazer mais nada, at√© que escolha o seu prato. Ineficiente! O m√©todo <strong>ass√≠ncrono</strong> √© como o empregado de mesa anota o seu pedido (uma <strong>Promise</strong> de que a comida vir√°) e depois vai atender outras mesas. Quando a comida est√° pronta, ele traz-lha. O `async/await` √© como dizer educadamente "Eu vou esperar (`await`) pela comida", sabendo que pode conversar com os seus amigos enquanto isso.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sec√ß√£o: Pr√°tica Guiada -->
            <section id="pratica" class="lesson-section">
                <h2 class="section-title">Pr√°tica (Passo a Passo)</h2>
                <div class="content-box">
                    <p>Vamos simular o pedido de dados a um servidor.</p>
                    <div class="step-by-step">
                        <div class="step">
                            <h4>Passo 1: Criar uma Promise</h4>
                            <p>Vamos criar uma fun√ß√£o que retorna uma Promise. A Promise ser√° resolvida com sucesso ap√≥s 2 segundos.</p>
                            <pre><code>function buscarDados() {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      resolve({ id: 1, nome: "Utilizador Fantasma" });
    }, 2000); // Simula um atraso de 2 segundos
  });
}</code></pre>
                        </div>
                        <div class="step">
                            <h4>Passo 2: Consumir a Promise com `.then()`</h4>
                            <p>A forma cl√°ssica de usar uma Promise √© com o m√©todo `.then()`.</p>
                            <pre><code>console.log("A pedir dados...");
buscarDados().then(dados => {
  console.log("Dados recebidos:", dados);
});
console.log("Enquanto isso, posso fazer outra coisa!");</code></pre>
                        </div>
                        <div class="step">
                            <h4>Passo 3: Usar Async/Await</h4>
                            <p>Agora, a forma moderna e mais leg√≠vel. Precisamos de uma fun√ß√£o `async` para poder usar `await`.</p>
                            <pre><code>async function apresentarDados() {
  console.log("A iniciar a apresenta√ß√£o...");
  const dados = await buscarDados(); // Pausa a execu√ß√£o AQUI at√© a Promise ser resolvida
  console.log("Os dados s√£o:", dados);
  console.log("Apresenta√ß√£o conclu√≠da.");
}

apresentarDados();</code></pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sec√ß√£o: Quiz de M√∫ltipla Escolha -->
            <section id="quiz" class="lesson-section">
                <h2 class="section-title">Teste o seu conhecimento</h2>
                <div class="content-box">
                    <div id="quiz-container">
                        <div class="question">
                            <p class="question-text"><strong>1.</strong> O que a palavra-chave `await` faz numa fun√ß√£o `async`?</p>
                            <div class="options">
                                <button class="option" data-correct="false">Cancela a Promise.</button>
                                <button class="option" data-correct="true">Pausa a execu√ß√£o da fun√ß√£o at√© que a Promise seja resolvida.</button>
                                <button class="option" data-correct="false">Executa a Promise imediatamente de forma s√≠ncrona.</button>
                                <button class="option" data-correct="false">Cria uma nova Promise.</button>
                            </div>
                            <div class="explanation" style="display: none;">
                                <p><strong>Explica√ß√£o:</strong> A resposta correta √© a B. `await` √© usado para esperar pelo resultado de uma Promise sem bloquear a thread principal, tornando o c√≥digo ass√≠ncrono mais parecido com c√≥digo s√≠ncrono.</p>
                                <div class="analogy-box">
                                    <span class="analogy-icon">üí°</span>
                                    <p><strong>Analogia:</strong> Lembre-se do restaurante. `await` √© o ato de esperar pacientemente pela sua comida, confiando que o empregado de mesa (o sistema) est√° a tratar de tudo.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sec√ß√£o: Resumo -->
            <section id="resumo" class="lesson-section">
                <h2 class="section-title">Resumo do que aprendeu</h2>
                <div class="content-box">
                    <p>Nesta aula, cobrimos os seguintes pontos-chave:</p>
                    <ul>
                        <li>‚úÖ JavaScript √© "single-threaded" e usa um modelo ass√≠ncrono para opera√ß√µes demoradas.</li>
                        <li>‚úÖ As Promises s√£o objetos que representam a eventual conclus√£o (ou falha) de uma opera√ß√£o ass√≠ncrona.</li>
                        <li>‚úÖ A sintaxe `async/await` √© "a√ß√∫car sint√°tico" sobre as Promises, que nos permite escrever c√≥digo ass√≠ncrono de forma mais clara e concisa.</li>
                    </ul>
                    <p>Dominar o c√≥digo ass√≠ncrono √© fundamental para o desenvolvimento JavaScript moderno.</p>
                </div>
            </section>
        </div>
    </main>

    <footer class="module-footer">
        <div class="container">
            <div class="footer-content">
                <div class="module-nav">
                    <a href="aula-10-projeto-final.html" class="btn btn-secondary">‚Üê Aula Anterior</a>
                    <a href="#" class="btn btn-primary">Pr√≥xima Aula ‚Üí</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="../js/lesson.js"></script>
</body>
</html>
